<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<script>
			window.onload = function(){
				var oBtn = document.getElementById("btn1");

				oBtn.onclick = function(){
					//1、声明一个ajax对象
					var xhr = new XMLHttpRequest();

					/*
						http://localhost/code3/01%E5%9B%9E%E9%A1%BEajax.html
						http://localhost/code3/1.txt

						说明：
							上述两者处于【同源】
							<1>同协议
							<2>同主机名/IP/域名
							<3>同端口号
						
						浏览器的端口号:8080
						http协议的端口号：80
						https协议的端口号：443


						已拦截跨源请求：同源策略禁止读取位于 http://www.wookmark.com/api/json/popular?page=1 的远程资源。（原因：CORS 头缺少 'Access-Control-Allow-Origin'）。

						【注】ajax默认是同源策略，禁止你跨源请求数据。

						【注】我们是由跨源需求的，但是ajax是同源策略。
							1、直接修改ajax请求头 设置可以跨源（不安全）。
							2、可以用php文件作为中转站（间接跨源）。
							3、JSONP跨域

					*/

					xhr.open("get", "http://www.wookmark.com/api/json/popular?page=1", true);

					xhr.send();

					xhr.onreadystatechange = function(){
						if(xhr.readyState == 4){
							alert(xhr.responseText);
						}
					}


				}
			}

		</script>
	</head>
	<body>
		<button id = 'btn1'>下载</button>
	</body>
</html>