<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<style>
			#div1 .active{background-color: orange}
			#div1 button{width: 100px; height: 30px; background-color: gray; font-size: 18px; color: blue}
			#div1 div{width: 400px; height: 400px; border: 1px  solid black; display: none}
		</style>
		<script>
			/*
			难点：
				面向过程写法 -> 面向对象写法
				
				原则：
					1、不能有函数嵌套
					2、可以有全局变量
				
				改造：
					1、window.onload  => 构造函数
					2、全局变量 => 构造函数的属性
					3、全局函数 => 构造函数的方法

			*/
		/*	var this.aBtns = null;
			var this.aDivs = null;*/



			window.onload = function(){
				new TabSwitch("div1");
			}


			function TabSwitch(id){
				var oDiv1 = document.getElementById(id);


				this.aBtns = oDiv1.getElementsByTagName("button");
				this.aDivs = oDiv1.getElementsByTagName("div");


				for(var i = 0; i < this.aBtns.length; i++){
					//添加自定义属性
					this.aBtns[i].index = i;

					var obj = this;

					this.aBtns[i].onclick = function(){
						obj.tab(this);
					};
				}

				
			}
			TabSwitch.prototype.tab = function(oBtn){
				
				//现将所有的按钮样式取消掉
				for(var j = 0; j < this.aBtns.length; j++){
							this.aBtns[j].className = "";
					this.aDivs[j].style.display = 'none';
				}
				oBtn.className = 'active';
				//将按钮对应的div显示出来
				this.aDivs[oBtn.index].style.display = 'block';
			}
		</script>
	</head>
	<body>
		<div id = 'div1'>
			<button class = 'active'>钢铁侠</button> 
			<!-- index = 0 -->
			<button>黑寡妇</button>
			<!-- index = 1 -->
			<button>绿巨人</button>
			<!-- index = 2 -->
			<div style = 'display: block'>《钢铁侠》（Iron Man）是由美国漫威电影工作室出品的一部科幻冒险电影，改编自同名系列漫画，由乔恩·费儒执导，小罗伯特·唐尼及格温妮斯·帕特洛、杰夫·布里吉斯等主演。该作也是“漫威电影宇宙”系列的首部电影。该片于2008年5月2日在美国上映。影片讲述了托尼·斯塔克在遇难后改进了盔甲的功能，化身“钢铁侠”，以一个义务警察的身份保护了这个世界和平的故事</div>
			<div>本名娜塔莎·罗曼诺夫，原是秘密组织神盾局的一名俄国籍女探员，体态婀娜面容姣好，头脑清晰行动敏捷，身手不凡强硬凶狠，是神盾局的精英特工。娜塔莎最初被安排在斯塔克工业内部作为卧底，负责监视钢铁侠托尼·斯塔克，后正式加入复仇者联盟。 </div>
			<div>浩克（Hulk）是美国漫威漫画旗下超级英雄，初次登场于《不可思议的浩克》（The Incredible Hulk）第一期（1962年5月），由斯坦·李和杰克·科比联合创造。本名罗伯特·布鲁斯·班纳（Robert Bruce Banner），是世界著名的物理学家，在一次意外中被自己制造出的伽玛炸弹（Gamma Bomb）的放射线大量辐射，身体产生异变，后每当他情绪激动心跳加速的时候就会变成名为浩克的绿色怪物。由于变身后往往不受控制，所以为了不伤害身边的人，班纳游走于世界各地寻找控制愤怒的方法，即便如此班纳的浩克身份还是时常会造成毁灭性的破坏，因此常成为警方与有关单位追捕的对象。</div>
		</div>
	</body>
</html>